function NewsList(){}NewsList.prototype.listenSubmitEvent=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){console.log("s=============");var t=s.val(),e=n.attr("data-news-id");xfzajax.post({url:"/news/public_comment/",data:{content:t,news_id:e},success:function(t){if(200===t.code){var e=t.data,n=template("comment-item",{comment:e});$(".comment-list").prepend(n),window.messageBox.showSuccess("评论发表成功！"),s.val("")}else window.messageBox.showError(t.message)}})})},NewsList.prototype.run=function(){this.listenSubmitEvent()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwibGlzdGVuU3VibWl0RXZlbnQiLCJzdWJtaXRCdG4iLCIkIiwidGV4dGFyZWEiLCJjbGljayIsImNvbnNvbGUiLCJsb2ciLCJjb250ZW50IiwidmFsIiwibmV3c19pZCIsImF0dHIiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29tbWVudCIsInRwbCIsInRlbXBsYXRlIiwicHJlcGVuZCIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93U3VjY2VzcyIsInNob3dFcnJvciIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUNBLFNBQVNBLFlBSVRBLFNBQVNDLFVBQVVDLGtCQUFvQixXQUNuQyxJQUFJQyxFQUFZQyxFQUFFLGVBQ2RDLEVBQVdELEVBQUUsNEJBQ2pCRCxFQUFVRyxNQUFNLFdBQ1pDLFFBQVFDLElBQUksa0JBQ1osSUFBSUMsRUFBVUosRUFBU0ssTUFDbkJDLEVBQVVSLEVBQVVTLEtBQUssZ0JBQzdCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU0sd0JBQ05DLEtBQU8sQ0FDSFAsUUFBV0EsRUFDWEUsUUFBV0EsR0FFZk0sUUFBVyxTQUFVQyxHQUNqQixHQUFzQixNQUFuQkEsRUFBYSxLQUNoQixDQUNJLElBQUlDLEVBQVVELEVBQWEsS0FDdkJFLEVBQU1DLFNBQVMsZUFBZ0IsQ0FBQ0YsUUFBV0EsSUFDeEJmLEVBQUUsaUJBQ1JrQixRQUFRRixHQUN6QkcsT0FBT0MsV0FBV0MsWUFBWSxXQUM5QnBCLEVBQVNLLElBQUksU0FFYmEsT0FBT0MsV0FBV0UsVUFBVVIsRUFBZ0IsZUFPaEVsQixTQUFTQyxVQUFVMEIsSUFBTSxXQUNyQkMsS0FBSzFCLHFCQUdURSxFQUFFLFlBQ2lCLElBQUlKLFVBQ1YyQiIsImZpbGUiOiJuZXdzX2RldGFpbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZnVuY3Rpb24gTmV3c0xpc3QoKSB7XHJcbiAgICBcclxufVxyXG5cclxuTmV3c0xpc3QucHJvdG90eXBlLmxpc3RlblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHN1Ym1pdEJ0biA9ICQoJy5zdWJtaXQtYnRuJyk7XHJcbiAgICB2YXIgdGV4dGFyZWEgPSAkKFwidGV4dGFyZWFbbmFtZT0nY29tbWVudCddXCIpO1xyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygncz09PT09PT09PT09PT0nKTtcclxuICAgICAgICB2YXIgY29udGVudCA9IHRleHRhcmVhLnZhbCgpO1xyXG4gICAgICAgIHZhciBuZXdzX2lkID0gc3VibWl0QnRuLmF0dHIoJ2RhdGEtbmV3cy1pZCcpO1xyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOicvbmV3cy9wdWJsaWNfY29tbWVudC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ25ld3NfaWQnOiBuZXdzX2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudCA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgnY29tbWVudC1pdGVtJywgeydjb21tZW50JzogY29tbWVudH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50TGlzdEdyb3VwID0gJCgnLmNvbW1lbnQtbGlzdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRMaXN0R3JvdXAucHJlcGVuZCh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dTdWNjZXNzKCfor4Torrrlj5HooajmiJDlip/vvIEnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYS52YWwoXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IocmVzdWx0WydtZXNzYWdlJ10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG5OZXdzTGlzdC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5saXN0ZW5TdWJtaXRFdmVudCgpO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbmV3c0xpc3QgPSBuZXcgTmV3c0xpc3QoKTtcclxuICAgIG5ld3NMaXN0LnJ1bigpO1xyXG59KTsiXX0=
