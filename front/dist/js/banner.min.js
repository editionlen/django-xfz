function Banners(){}Banners.prototype.listenAddBannerEvent=function(){var a=this;$("#add-banner-btn").click(function(){var n=template("banner-item"),e=$(".banner-list-group");e.prepend(n);var t=e.find(".banner-item:first");a.addImageSelectEvent(t),a.addRemoveBannerEvent(t)})},Banners.prototype.addImageSelectEvent=function(n){var t=n.find(".thumbnail"),e=n.find(".image-input");t.click(function(){e.click()}),e.change(function(){var n=this.files[0],e=new FormData;e.append("file",n),xfzajax.post({url:"/cms/upload_file/",data:e,processData:!1,contentType:!1,success:function(n){if(200===n.code){var e=n.data.url;t.attr("src",e)}}})})},Banners.prototype.addRemoveBannerEvent=function(n){n.find(".close-btn").click(function(){console.log("close bannerITem"),n.remove()})},Banners.prototype.run=function(){this.listenAddBannerEvent()},$(function(){(new Banners).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhbm5lci5qcyJdLCJuYW1lcyI6WyJCYW5uZXJzIiwicHJvdG90eXBlIiwibGlzdGVuQWRkQmFubmVyRXZlbnQiLCJzZWxmIiwidGhpcyIsIiQiLCJjbGljayIsInRwbCIsInRlbXBsYXRlIiwiYmFubmVyTGlzdEdyb3VwIiwicHJlcGVuZCIsImJhbm5lckl0ZW0iLCJmaW5kIiwiYWRkSW1hZ2VTZWxlY3RFdmVudCIsImFkZFJlbW92ZUJhbm5lckV2ZW50IiwiaW1hZ2UiLCJpbWFnZUlucHV0IiwiY2hhbmdlIiwiZmlsZSIsImZpbGVzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwiYXR0ciIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmUiLCJydW4iXSwibWFwcGluZ3MiOiJBQUNBLFNBQVNBLFdBSVRBLFFBQVFDLFVBQVVDLHFCQUF1QixXQUNyQyxJQUFJQyxFQUFPQyxLQUNFQyxFQUFFLG1CQUNSQyxNQUFNLFdBQ1gsSUFBSUMsRUFBTUMsU0FBUyxlQUNmQyxFQUFrQkosRUFBRSxzQkFDeEJJLEVBQWdCQyxRQUFRSCxHQUV4QixJQUFJSSxFQUFhRixFQUFnQkcsS0FBSyxzQkFDdENULEVBQUtVLG9CQUFvQkYsR0FDekJSLEVBQUtXLHFCQUFxQkgsTUFJaENYLFFBQVFDLFVBQVVZLG9CQUFzQixTQUFVRixHQUM5QyxJQUFJSSxFQUFRSixFQUFXQyxLQUFLLGNBQ3hCSSxFQUFhTCxFQUFXQyxLQUFLLGdCQUVqQ0csRUFBTVQsTUFBTSxXQUNUVSxFQUFXVixVQUdkVSxFQUFXQyxPQUFPLFdBQ2YsSUFBSUMsRUFBT2QsS0FBS2UsTUFBTSxHQUNsQkMsRUFBVyxJQUFJQyxTQUNuQkQsRUFBU0UsT0FBTyxPQUFRSixHQUN4QkssUUFBUUMsS0FBSyxDQUNUQyxJQUFPLG9CQUNQQyxLQUFPTixFQUNQTyxhQUFlLEVBQ2ZDLGFBQWUsRUFDZkMsUUFBVyxTQUFVQyxHQUNqQixHQUFzQixNQUFuQkEsRUFBYSxLQUNoQixDQUNJLElBQUlMLEVBQU1LLEVBQWEsS0FBTyxJQUM5QmYsRUFBTWdCLEtBQUssTUFBT04sVUFPckN6QixRQUFRQyxVQUFVYSxxQkFBdUIsU0FBVUgsR0FDaENBLEVBQVdDLEtBQUssY0FDdEJOLE1BQU0sV0FDWDBCLFFBQVFDLElBQUksb0JBQ1p0QixFQUFXdUIsWUFJbkJsQyxRQUFRQyxVQUFVa0MsSUFBTSxXQUNwQi9CLEtBQUtGLHdCQUdURyxFQUFFLFlBQ2dCLElBQUlMLFNBQ1ZtQyIsImZpbGUiOiJiYW5uZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmZ1bmN0aW9uIEJhbm5lcnMoKSB7XHJcbiAgICBcclxufVxyXG5cclxuQmFubmVycy5wcm90b3R5cGUubGlzdGVuQWRkQmFubmVyRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYWRkQnRuID0gJChcIiNhZGQtYmFubmVyLWJ0blwiKTtcclxuICAgIGFkZEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZShcImJhbm5lci1pdGVtXCIpO1xyXG4gICAgICB2YXIgYmFubmVyTGlzdEdyb3VwID0gJChcIi5iYW5uZXItbGlzdC1ncm91cFwiKTtcclxuICAgICAgYmFubmVyTGlzdEdyb3VwLnByZXBlbmQodHBsKTtcclxuXHJcbiAgICAgIHZhciBiYW5uZXJJdGVtID0gYmFubmVyTGlzdEdyb3VwLmZpbmQoXCIuYmFubmVyLWl0ZW06Zmlyc3RcIik7XHJcbiAgICAgIHNlbGYuYWRkSW1hZ2VTZWxlY3RFdmVudChiYW5uZXJJdGVtKTtcclxuICAgICAgc2VsZi5hZGRSZW1vdmVCYW5uZXJFdmVudChiYW5uZXJJdGVtKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQmFubmVycy5wcm90b3R5cGUuYWRkSW1hZ2VTZWxlY3RFdmVudCA9IGZ1bmN0aW9uIChiYW5uZXJJdGVtKSB7XHJcbiAgICB2YXIgaW1hZ2UgPSBiYW5uZXJJdGVtLmZpbmQoJy50aHVtYm5haWwnKTtcclxuICAgIHZhciBpbWFnZUlucHV0ID0gYmFubmVySXRlbS5maW5kKCcuaW1hZ2UtaW5wdXQnKTtcclxuICAgIC8v5Zu+54mH5piv5LiN6IO95omT5byA5paH5Lu26YCJ5oup5qGG55qE77yM5Y+q6IO96YCa6L+HSU5wdXQodHlwZT1maWxlKVxyXG4gICAgaW1hZ2UuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgaW1hZ2VJbnB1dC5jbGljaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaW1hZ2VJbnB1dC5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xyXG4gICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAndXJsJzogJy9jbXMvdXBsb2FkX2ZpbGUvJyxcclxuICAgICAgICAgICAnZGF0YSc6Zm9ybURhdGEsXHJcbiAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzogZmFsc2UsXHJcbiAgICAgICAgICAgJ2NvbnRlbnRUeXBlJzogZmFsc2UsXHJcbiAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApXHJcbiAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSByZXN1bHRbJ2RhdGEnXVsndXJsJ107XHJcbiAgICAgICAgICAgICAgICAgICBpbWFnZS5hdHRyKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfSlcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQmFubmVycy5wcm90b3R5cGUuYWRkUmVtb3ZlQmFubmVyRXZlbnQgPSBmdW5jdGlvbiAoYmFubmVySXRlbSkge1xyXG4gICAgdmFyIGNsb3NlQnRuID0gYmFubmVySXRlbS5maW5kKCcuY2xvc2UtYnRuJyk7XHJcbiAgICBjbG9zZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjbG9zZSBiYW5uZXJJVGVtXCIpO1xyXG4gICAgICAgIGJhbm5lckl0ZW0ucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkJhbm5lcnMucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMubGlzdGVuQWRkQmFubmVyRXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJhbm5lcnMgPSBuZXcgQmFubmVycygpO1xyXG4gICAgYmFubmVycy5ydW4oKTtcclxufSk7Il19
